<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Вакансії — TodMusic</title>
  <link rel="icon" href="/faviconTM.png" type="image/x-icon" />
  
  <link rel="stylesheet" href="styles/variables.scss">
  <link rel="stylesheet" href="styles/footer.scss">
  <link rel="stylesheet" href="styles/vacancies.scss">
  <link href="https://fonts.googleapis.com/css2?family=Momo+Signature&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div>
      <a class="logo" href="index.html"><p>TodMusic</p></a>
    </div>
    <nav>
      <a href="aboutUs.html">Про нас</a>
      <a href="acct.html">Увійти</a>
    </nav>
  </header>

  <main>
    <div class="intro">
      <h1>Вакансії </h1>
      <p>Обери вакансію та приєднуйся до нашої команди!</p>
    </div>

    <div class="jobs">
      <div class="job-card">
        <h2>Front-end Developer</h2>
        <p>Розробка інтерфейсу веб-платформи TodMusic.</p>
        <button class="apply-btn" data-position="Front-end Developer">Подати заявку</button>
      </div>
      <div class="job-card">
        <h2>Back-end Developer</h2>
        <p>Розробка серверної частини та API.</p>
        <button class="apply-btn" data-position="Back-end Developer">Подати заявку</button>
      </div>
      <div class="job-card">
        <h2>UI/UX Designer</h2>
        <p>Створення дизайну та покращення досвіду користувача.</p>
        <button class="apply-btn" data-position="UI/UX Designer">Подати заявку</button>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="footer-container">
      <div class="footer-column">
        <div>
          <a class="footer_logo" href="index.html"><p>TodMusic</p></a>
        </div>
      </div>

      <div class="footer-column">
        <h4>Компанія</h4>
        <ul>
          <li><a href="aboutUs.html">Про нас</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Спільноти</h4>
        <ul>
          <li><a href="advertising.html">Для виконавців</a></li>
          <li><a href="advertising.html">Для рекламодавців</a></li>
          <li><a href="advertising.html">Для інвесторів</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Корисні посилання</h4>
        <ul>
          <li><a href="supportService.html">Підтримка</a></li>
          <li><a href="index.html">Вебпрогравач</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Підписки TodMusic</h4>
        <ul>
          <li><a href="subscription.html">TodMusic Free</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Соціальні мережі</h4>
        <div class="footer-social">
          <div class="social-telegram">
            <a href="https://t.me/TodMusicOffficial">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                class="telegram-icon"
                viewBox="0 0 16 16"
              >
                <path
                  d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09"
                />
              </svg>
            </a>
          </div>
          <div>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="23"
              height="23"
              fill="currentColor"
              class="bi bi-twitter-x"
              viewBox="0 0 16 16"
            >
              <path
                d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"
              />
            </svg>
          </div>
          <div>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="28"
              fill="currentColor"
              class="bi bi-facebook"
              viewBox="0 0 16 16"
            >
              <path
                d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <span>Юридична інформація</span>
      <span>Центр безпеки й конфіденційності</span>
      <span>Політика конфіденційності</span>
      <span>Політика щодо файлів cookie</span>
      <span>Про рекламу</span>
      <span>Доступність</span>
      <span>Україна (українська)</span>
      <span>© 2025 TodMusic AB</span>
    </div>
  </footer>

  <div id="formContainer"></div>

  <div class="custom-modal" id="responseModal">
    <div class="custom-modal-content">
      <h2 id="modalTitle"></h2>
      <p id="modalMessage"></p>
      <button id="closeModal">Закрити</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const formContainer = document.getElementById("formContainer");
  const modal = document.getElementById("responseModal");
  const modalTitle = document.getElementById("modalTitle");
  const modalMessage = document.getElementById("modalMessage");
  const closeBtn = document.getElementById("closeModal");

  // Додаємо події на всі кнопки вакансій
  document.querySelectorAll(".apply-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const position = btn.getAttribute("data-position");
      showForm(position);
    });
  });

  function showForm(position) {
    formContainer.innerHTML = `
      <div class="apply-section" id="applyForm">
        <h2>Подати заявку на посаду: ${position}</h2>
        <form action="https://formspree.io/f/mqawadop" method="POST">
          <label>Ваше ім’я:
            <input type="text" name="name" required />
          </label>
          <label>Електронна пошта:
            <input type="email" name="email" required />
          </label>
          <label>Коротко про вас:
            <textarea name="message" required></textarea>
          </label>
          <input type="hidden" name="position" value="${position}" />
          <button type="submit">Надіслати заявку</button>
          <div class="close-form" id="closeForm">Скасувати</div>
        </form>
      </div>
    `;

    const applyFormDiv = document.getElementById("applyForm");
    const form = applyFormDiv.querySelector("form");
    const closeFormBtn = document.getElementById("closeForm");

    setTimeout(() => applyFormDiv.classList.add("show"), 10);

    form.addEventListener("submit", function(e) {
      e.preventDefault();
      const data = new FormData(form);

      fetch(form.action, {
        method: form.method,
        body: data,
        headers: { Accept: "application/json" },
      })
        .then(response => {
          applyFormDiv.classList.remove("show");
          setTimeout(() => applyFormDiv.remove(), 300);

          if(response.ok) {
            modalTitle.textContent = "Дякуємо!";
            modalMessage.textContent = "Ваша заявка успішно надіслана! Ми зв’яжемось із вами найближчим часом.";
            modal.classList.add("active");
          } else {
            modalTitle.textContent = "Помилка!";
            modalMessage.textContent = "Сталася помилка при надсиланні. Спробуйте ще раз.";
            modal.classList.add("active");
          }
        })
        .catch(() => {
          applyFormDiv.classList.remove("show");
          setTimeout(() => applyFormDiv.remove(), 300);

          modalTitle.textContent = "Помилка з’єднання!";
          modalMessage.textContent = "Не вдалося встановити з’єднання з сервером.";
          modal.classList.add("active");
        });
    });

    closeFormBtn.addEventListener("click", () => {
      applyFormDiv.classList.remove("show");
      setTimeout(() => applyFormDiv.remove(), 300);
    });
  }

  closeBtn.addEventListener("click", () => {
    modal.classList.remove("active");
  });
});

  </script>
</body>
</html>
